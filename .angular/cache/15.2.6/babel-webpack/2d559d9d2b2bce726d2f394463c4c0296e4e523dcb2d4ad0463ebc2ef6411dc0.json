{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { Subject, takeUntil } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"primeng/dynamicdialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"src/app/services/beneficiario/beneficiario.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"primeng/button\";\nimport * as i7 from \"primeng/inputtext\";\nimport * as i8 from \"primeng/dropdown\";\nfunction BeneficiarioFormComponent_div_0_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"input\", 20);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BeneficiarioFormComponent_div_0_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"input\", 21);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BeneficiarioFormComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"form\", 1);\n    i0.ɵɵlistener(\"ngSubmit\", function BeneficiarioFormComponent_div_0_Template_form_ngSubmit_1_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.handleSubmitAddBeneficiario());\n    });\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵelement(3, \"input\", 3)(4, \"p-calendar\", 4);\n    i0.ɵɵelementStart(5, \"p-dropdown\", 5);\n    i0.ɵɵlistener(\"onChange\", function BeneficiarioFormComponent_div_0_Template_p_dropdown_onChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onTipoPessoaChange($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, BeneficiarioFormComponent_div_0_div_6_Template, 2, 0, \"div\", 0);\n    i0.ɵɵtemplate(7, BeneficiarioFormComponent_div_0_div_7_Template, 2, 0, \"div\", 0);\n    i0.ɵɵelement(8, \"p-dropdown\", 6)(9, \"input\", 7)(10, \"input\", 8)(11, \"input\", 9)(12, \"input\", 10)(13, \"input\", 11)(14, \"input\", 12)(15, \"input\", 13)(16, \"input\", 14)(17, \"input\", 15)(18, \"input\", 16)(19, \"input\", 17);\n    i0.ɵɵelementStart(20, \"div\", 18);\n    i0.ɵɵelement(21, \"p-button\", 19);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.addBeneficiarioForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"options\", ctx_r0.tipoPessoaOptions);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isPessoaFisica);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isPessoaFisica);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"options\", ctx_r0.generoOptions);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.addBeneficiarioForm.valid);\n  }\n}\nexport class BeneficiarioFormComponent {\n  constructor(ref, formBuilder, messageService, beneficiarioService // Ajuste conforme seu serviço de beneficiário\n  ) {\n    this.ref = ref;\n    this.formBuilder = formBuilder;\n    this.messageService = messageService;\n    this.beneficiarioService = beneficiarioService;\n    this.destroy$ = new Subject();\n    this.isEditing = false; // Flag para verificar se está editando um beneficiário existente\n    this.beneficiarioForm = this.formBuilder.group({\n      nome: ['', Validators.required],\n      dataNascimento: [''],\n      tipoPessoa: ['F', Validators.required],\n      genero: [''],\n      cpf: [''],\n      rg: [''],\n      cnpj: [''],\n      contato1: [''],\n      contato2: [''],\n      cep: [''],\n      logradouro: [''],\n      numero: [''],\n      complemento: [''],\n      bairro: [''],\n      cidade: [''],\n      siglaEstado: [''],\n      observacoes: [''],\n      ativo: [true] // Valor padrão 'true' para ativo\n    });\n  }\n\n  ngOnInit() {\n    const beneficiarioData = this.ref.data;\n    if (beneficiarioData) {\n      this.isEditing = !!beneficiarioData.id; // Verifica se há um ID para determinar se é edição\n      this.populateForm(beneficiarioData);\n    }\n  }\n  handleSubmit() {\n    if (this.beneficiarioForm.valid) {\n      const formData = this.beneficiarioForm.value;\n      if (this.isEditing) {\n        this.editBeneficiario(formData);\n      } else {\n        this.addBeneficiario(formData);\n      }\n    } else {\n      this.handleErrorMessage('Formulário inválido. Verifique os campos obrigatórios.');\n    }\n  }\n  addBeneficiario(formData) {\n    this.beneficiarioService['createBeneficiario'](formData).pipe(takeUntil(this.destroy$)).subscribe({\n      next: () => {\n        this.handleSuccessMessage('Beneficiário criado com sucesso!');\n      },\n      error: () => {\n        this.handleErrorMessage('Erro ao criar beneficiário!');\n      }\n    });\n  }\n  editBeneficiario(formData) {\n    const editAction = {\n      action: 'edit',\n      id: formData.id,\n      beneficiarioName: formData.nome // Ajuste conforme necessário para capturar o nome do beneficiário\n    };\n\n    this.beneficiarioService['editBeneficiario'](editAction).pipe(takeUntil(this.destroy$)).subscribe({\n      next: () => {\n        this.handleSuccessMessage('Beneficiário editado com sucesso!');\n      },\n      error: () => {\n        this.handleErrorMessage('Erro ao editar beneficiário!');\n      }\n    });\n  }\n  populateForm(beneficiarioData) {\n    this.beneficiarioForm.patchValue({\n      nome: beneficiarioData.nome,\n      dataNascimento: beneficiarioData.dataNascimento,\n      tipoPessoa: beneficiarioData.tipoPessoa,\n      genero: beneficiarioData.genero,\n      cpf: beneficiarioData.cpf,\n      rg: beneficiarioData.rg,\n      cnpj: beneficiarioData.cnpj,\n      contato1: beneficiarioData.contato1,\n      contato2: beneficiarioData.contato2,\n      cep: beneficiarioData.cep,\n      logradouro: beneficiarioData.logradouro,\n      numero: beneficiarioData.numero,\n      complemento: beneficiarioData.complemento,\n      bairro: beneficiarioData.bairro,\n      cidade: beneficiarioData.cidade,\n      siglaEstado: beneficiarioData.siglaEstado,\n      observacoes: beneficiarioData.observacoes,\n      ativo: beneficiarioData.ativo\n    });\n  }\n  handleSuccessMessage(detail) {\n    this.beneficiarioForm.reset();\n    this.messageService.add({\n      severity: 'success',\n      summary: 'Sucesso',\n      detail: detail,\n      life: 3000\n    });\n  }\n  handleErrorMessage(detail) {\n    this.messageService.add({\n      severity: 'error',\n      summary: 'Erro',\n      detail: detail,\n      life: 3000\n    });\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\nBeneficiarioFormComponent.ɵfac = function BeneficiarioFormComponent_Factory(t) {\n  return new (t || BeneficiarioFormComponent)(i0.ɵɵdirectiveInject(i1.DynamicDialogConfig), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.MessageService), i0.ɵɵdirectiveInject(i4.BeneficiarioService));\n};\nBeneficiarioFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BeneficiarioFormComponent,\n  selectors: [[\"app-beneficiario-form\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"card\", \"flex\", \"flex-column\", \"md:flex-column\", \"gap-3\"], [\"pInputText\", \"\", \"placeholder\", \"Nome\", \"formControlName\", \"nome\"], [\"placeholder\", \"Data de Nascimento\", \"formControlName\", \"datanasc\"], [\"placeholder\", \"Tipo de Pessoa\", \"formControlName\", \"tipopessoa\", 3, \"options\", \"onChange\"], [\"placeholder\", \"G\\u00EAnero\", \"formControlName\", \"genero\", 3, \"options\"], [\"pInputText\", \"\", \"placeholder\", \"RG\", \"formControlName\", \"rg\"], [\"pInputText\", \"\", \"placeholder\", \"Contato 1\", \"formControlName\", \"contato1\"], [\"pInputText\", \"\", \"placeholder\", \"Contato 2\", \"formControlName\", \"contato2\"], [\"pInputText\", \"\", \"placeholder\", \"CEP\", \"formControlName\", \"cep\"], [\"pInputText\", \"\", \"placeholder\", \"Logradouro\", \"formControlName\", \"logradoudo\"], [\"pInputText\", \"\", \"placeholder\", \"N\\u00FAmero\", \"formControlName\", \"numero\"], [\"pInputText\", \"\", \"placeholder\", \"Complemento\", \"formControlName\", \"complemento\"], [\"pInputText\", \"\", \"placeholder\", \"Bairro\", \"formControlName\", \"bairro\"], [\"pInputText\", \"\", \"placeholder\", \"Cidade\", \"formControlName\", \"cidade\"], [\"pInputText\", \"\", \"placeholder\", \"Estado\", \"formControlName\", \"siglaestado\"], [\"pInputText\", \"\", \"placeholder\", \"Observa\\u00E7\\u00F5es\", \"formControlName\", \"observacoes\"], [1, \"flex\", \"flex-row\", \"justify-content-center\", \"align-content-center\", \"align-items-center\", \"m-1\"], [\"type\", \"submit\", \"label\", \"Concluir\", 3, \"disabled\"], [\"pInputText\", \"\", \"placeholder\", \"CPF\", \"formControlName\", \"cpf\"], [\"pInputText\", \"\", \"placeholder\", \"CNPJ\", \"formControlName\", \"cnpj\"]],\n  template: function BeneficiarioFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, BeneficiarioFormComponent_div_0_Template, 22, 6, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", (ctx.beneficiarioAction == null ? null : ctx.beneficiarioAction.event == null ? null : ctx.beneficiarioAction.event.action) === ctx.addBeneficiarioAction);\n    }\n  },\n  dependencies: [i5.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i6.Button, i7.InputText, i8.Dropdown],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["Validators","Subject","takeUntil","i0","BeneficiarioFormComponent","constructor","ref","formBuilder","messageService","beneficiarioService","beneficiarioForm","group","nome","required","dataNascimento","tipoPessoa","genero","cpf","rg","cnpj","contato1","contato2","cep","logradouro","numero","complemento","bairro","cidade","siglaEstado","observacoes","ativo","ngOnInit","beneficiarioData","data","isEditing","id","populateForm","handleSubmit","valid","formData","value","editBeneficiario","addBeneficiario","handleErrorMessage","pipe","destroy$","subscribe","next","handleSuccessMessage","error","editAction","action","beneficiarioName","patchValue","detail","reset","add","severity","summary","life","ngOnDestroy","complete","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\CaioCoelho\\Desktop\\AULA-55\\src\\app\\modules\\beneficiario\\components\\beneficiario-form\\beneficiario-form.component.ts","C:\\Users\\CaioCoelho\\Desktop\\AULA-55\\src\\app\\modules\\beneficiario\\components\\beneficiario-form\\beneficiario-form.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\nimport { MessageService } from 'primeng/api';\nimport { DynamicDialogConfig } from 'primeng/dynamicdialog';\nimport { Subject, takeUntil } from 'rxjs';\nimport { BeneficiarioService } from 'src/app/services/beneficiario/beneficiario.service'; // Ajuste conforme seu serviço de beneficiário\nimport { GetBeneficiarioResponse } from 'src/app/models/interfaces/beneficiario/responses/GetBeneficiarioResponse';\nimport { EditBeneficiarioAction } from 'src/app/models/interfaces/beneficiario/event/EditBeneficiarioAction';\n\n@Component({\n  selector: 'app-beneficiario-form',\n  templateUrl: './beneficiario-form.component.html',\n  styleUrls: []\n})\nexport class BeneficiarioFormComponent implements OnInit, OnDestroy {\n  private readonly destroy$: Subject<void> = new Subject();\n\n  public beneficiarioForm: FormGroup;\n  public isEditing = false; // Flag para verificar se está editando um beneficiário existente\n\n  constructor(\n    public ref: DynamicDialogConfig,\n    private formBuilder: FormBuilder,\n    private messageService: MessageService,\n    private beneficiarioService: BeneficiarioService // Ajuste conforme seu serviço de beneficiário\n  ) {\n    this.beneficiarioForm = this.formBuilder.group({\n      nome: ['', Validators.required],\n      dataNascimento: [''],\n      tipoPessoa: ['F', Validators.required], // Valor padrão 'F' para pessoa física\n      genero: [''],\n      cpf: [''],\n      rg: [''],\n      cnpj: [''],\n      contato1: [''],\n      contato2: [''],\n      cep: [''],\n      logradouro: [''],\n      numero: [''],\n      complemento: [''],\n      bairro: [''],\n      cidade: [''],\n      siglaEstado: [''],\n      observacoes: [''],\n      ativo: [true] // Valor padrão 'true' para ativo\n    });\n  }\n\n  ngOnInit(): void {\n    const beneficiarioData = this.ref.data;\n\n    if (beneficiarioData) {\n      this.isEditing = !!beneficiarioData.id; // Verifica se há um ID para determinar se é edição\n      this.populateForm(beneficiarioData);\n    }\n  }\n\n  handleSubmit(): void {\n    if (this.beneficiarioForm.valid) {\n      const formData = this.beneficiarioForm.value;\n\n      if (this.isEditing) {\n        this.editBeneficiario(formData);\n      } else {\n        this.addBeneficiario(formData);\n      }\n    } else {\n      this.handleErrorMessage('Formulário inválido. Verifique os campos obrigatórios.');\n    }\n  }\n\n  private addBeneficiario(formData: any): void {\n    this.beneficiarioService['createBeneficiario'](formData).pipe(takeUntil(this.destroy$)).subscribe({\n      next: () => {\n        this.handleSuccessMessage('Beneficiário criado com sucesso!');\n      },\n      error: () => {\n        this.handleErrorMessage('Erro ao criar beneficiário!');\n      }\n    });\n  }\n\n  private editBeneficiario(formData: any): void {\n    const editAction: EditBeneficiarioAction = {\n      action: 'edit',\n      id: formData.id, // Supondo que o ID seja parte do formulário ou seja recuperado de outra forma\n      beneficiarioName: formData.nome // Ajuste conforme necessário para capturar o nome do beneficiário\n    };\n\n    this.beneficiarioService['editBeneficiario'](editAction).pipe(takeUntil(this.destroy$)).subscribe({\n      next: () => {\n        this.handleSuccessMessage('Beneficiário editado com sucesso!');\n      },\n      error: () => {\n        this.handleErrorMessage('Erro ao editar beneficiário!');\n      }\n    });\n  }\n\n  private populateForm(beneficiarioData: GetBeneficiarioResponse): void {\n    this.beneficiarioForm.patchValue({\n      nome: beneficiarioData.nome,\n      dataNascimento: beneficiarioData.dataNascimento,\n      tipoPessoa: beneficiarioData.tipoPessoa,\n      genero: beneficiarioData.genero,\n      cpf: beneficiarioData.cpf,\n      rg: beneficiarioData.rg,\n      cnpj: beneficiarioData.cnpj,\n      contato1: beneficiarioData.contato1,\n      contato2: beneficiarioData.contato2,\n      cep: beneficiarioData.cep,\n      logradouro: beneficiarioData.logradouro,\n      numero: beneficiarioData.numero,\n      complemento: beneficiarioData.complemento,\n      bairro: beneficiarioData.bairro,\n      cidade: beneficiarioData.cidade,\n      siglaEstado: beneficiarioData.siglaEstado,\n      observacoes: beneficiarioData.observacoes,\n      ativo: beneficiarioData.ativo\n    });\n  }\n\n  private handleSuccessMessage(detail: string): void {\n    this.beneficiarioForm.reset();\n    this.messageService.add({\n      severity: 'success',\n      summary: 'Sucesso',\n      detail: detail,\n      life: 3000\n    });\n  }\n\n  private handleErrorMessage(detail: string): void {\n    this.messageService.add({\n      severity: 'error',\n      summary: 'Erro',\n      detail: detail,\n      life: 3000\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","<!-- FORMULÁRIO DE NOVO BENEFICIARIO -->\n<div *ngIf=\"beneficiarioAction?.event?.action === addBeneficiarioAction\">\n  <form [formGroup]=\"addBeneficiarioForm\" (ngSubmit)=\"handleSubmitAddBeneficiario()\">\n    <div class=\"card flex flex-column md:flex-column gap-3\">\n      <!-- Nome do beneficiário -->\n      <input pInputText placeholder=\"Nome\" formControlName=\"nome\" />\n\n      <!-- Data de nascimento -->\n      <p-calendar placeholder=\"Data de Nascimento\" formControlName=\"datanasc\"></p-calendar>\n\n      <!-- Tipo de pessoa -->\n      <p-dropdown\n        [options]=\"tipoPessoaOptions\"\n        placeholder=\"Tipo de Pessoa\"\n        formControlName=\"tipopessoa\"\n        (onChange)=\"onTipoPessoaChange($event)\"\n      ></p-dropdown>\n\n      <!-- Exibir CPF se Tipo de Pessoa for F -->\n      <div *ngIf=\"isPessoaFisica\">\n        <input pInputText placeholder=\"CPF\" formControlName=\"cpf\" />\n      </div>\n\n      <!-- Exibir CNPJ se Tipo de Pessoa for J -->\n      <div *ngIf=\"!isPessoaFisica\">\n        <input pInputText placeholder=\"CNPJ\" formControlName=\"cnpj\" />\n      </div>\n\n      <!-- Gênero -->\n      <p-dropdown [options]=\"generoOptions\" placeholder=\"Gênero\" formControlName=\"genero\"></p-dropdown>\n\n      <!-- RG -->\n      <input pInputText placeholder=\"RG\" formControlName=\"rg\" />\n\n      <!-- Contato 1 -->\n      <input pInputText placeholder=\"Contato 1\" formControlName=\"contato1\" />\n\n      <!-- Contato 2 -->\n      <input pInputText placeholder=\"Contato 2\" formControlName=\"contato2\" />\n\n      <!-- CEP -->\n      <input pInputText placeholder=\"CEP\" formControlName=\"cep\" />\n\n      <!-- Logradouro -->\n      <input pInputText placeholder=\"Logradouro\" formControlName=\"logradoudo\" />\n\n      <!-- Número -->\n      <input pInputText placeholder=\"Número\" formControlName=\"numero\" />\n\n      <!-- Complemento -->\n      <input pInputText placeholder=\"Complemento\" formControlName=\"complemento\" />\n\n      <!-- Bairro -->\n      <input pInputText placeholder=\"Bairro\" formControlName=\"bairro\" />\n\n      <!-- Cidade -->\n      <input pInputText placeholder=\"Cidade\" formControlName=\"cidade\" />\n\n      <!-- Estado -->\n      <input pInputText placeholder=\"Estado\" formControlName=\"siglaestado\" />\n\n      <!-- Observações -->\n      <input pInputText placeholder=\"Observações\" formControlName=\"observacoes\" />\n\n      <div class=\"flex flex-row justify-content-center align-content-center align-items-center m-1\">\n        <p-button [disabled]=\"!addBeneficiarioForm.valid\" type=\"submit\" label=\"Concluir\"></p-button>\n      </div>\n    </div>\n  </form>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}